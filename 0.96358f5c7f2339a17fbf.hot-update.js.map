{"version":3,"file":"0.96358f5c7f2339a17fbf.hot-update.js","sources":["/Users/brianlovin/Sites/spectrum/src/components/menu/style.js","/Users/brianlovin/Sites/spectrum/src/views/dashboard/components/upsellExploreCommunities.js","/Users/brianlovin/Sites/spectrum/src/views/dashboardThread/style.js"],"sourcesContent":["import styled, { css } from 'styled-components';\nimport {\n  Transition,\n  Shadow,\n  zIndex,\n  hexa,\n  Gradient,\n} from '../../components/globals';\n\nexport const Wrapper = styled.div`\n  display: inline-block;\n\n  ${props =>\n    props.darkContext &&\n    css`\n      > button {\n        color: ${props => props.theme.text.reverse};\n        transition: ${Transition.hover.off};\n\n        &:hover {\n          color: ${props => props.theme.text.reverse};\n          transform: scale(1.1);\n          transition: ${Transition.hover.on};\n        }\n      }\n    `};\n`;\n\nexport const Absolute = styled.div`\n  display: ${props => (props.open ? 'flex' : 'none')};\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 100vw;\n  min-width: 100vw;\n  height: 100%;\n  min-height: 100%;\n  z-index: 1;\n\n  > button {\n    color: ${props => props.theme.text.reverse};\n    z-index: 2;\n    align-self: flex-start;\n    margin-top: ${props => (props.hasNavBar ? '56px' : '8px')};\n    margin-left: 8px;\n  }\n`;\n\nexport const MenuContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-content: start;\n  justify-content: stretch;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  height: ${props => (props.hasTabBar ? 'calc(100% - 48px)' : '100%')};\n  width: 300px;\n  color: ${props => props.theme.brand.alt};\n  background-color: ${props => props.theme.bg.default};\n  background-image: ${props =>\n    Gradient(props.theme.bg.default, props.theme.bg.wash)};\n  box-shadow: ${Shadow.high} ${props => hexa(props.theme.bg.reverse, 0.25)};\n  padding-top: ${props => (props.hasNavBar ? '48px' : '0')};\n  z-index: ${zIndex.fullscreen + 1};\n`;\n\nexport const MenuOverlay = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 100vw;\n  min-width: 100vw;\n  height: 100vh;\n  min-height: 100vh;\n  background-color: ${props => hexa(props.theme.bg.reverse, 0.5)};\n`;\n\n\n\n// WEBPACK FOOTER //\n// src/components/menu/style.js","import * as React from 'react';\nimport { getTopCommunities } from '../../explore/queries';\nimport { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport viewNetworkHandler from '../../../components/viewNetworkHandler';\nimport { CommunityListAvatar } from '../style';\nimport { FlexRow } from '../../../components/globals';\n\nconst getRandom = (arr, n) => {\n  let result = new Array(n),\n    len = arr.length,\n    taken = new Array(len);\n  if (n > len) return arr;\n  while (n--) {\n    let x = Math.floor(Math.random() * len);\n    result[n] = arr[x in taken ? taken[x] : x];\n    taken[x] = --len;\n  }\n  return result;\n};\n\nclass UpsellExploreCommunities extends React.Component {\n  state: {\n    communitiesToJoin: Array<mixed>,\n  };\n\n  constructor() {\n    super();\n\n    this.state = {\n      communitiesToJoin: [],\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (\n      nextState.communitiesToJoin.length !== this.state.communitiesToJoin.length\n    )\n      return true;\n    if (!this.props.data.topCommunities && nextProps.data.topCommunities)\n      return true;\n    if (this.props.activeCommunity !== nextProps.activeCommunity) return true;\n    return false;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (!prevProps.data.topCommunities &&\n        this.props.data.topCommunities &&\n        this.props.data.topCommunities.length > 0) ||\n      (this.props.data.topCommunities &&\n        this.state.communitiesToJoin.length === 0)\n    ) {\n      const joinedCommunityIds = this.props.communities.map(c => c.id);\n\n      // don't upsell communities the user has already joined\n      const filteredTopCommunities = this.props.data.topCommunities.filter(\n        c => joinedCommunityIds.indexOf(c.id) < 0\n      );\n      // get five random ones\n      const randomTopCommunities = getRandom(filteredTopCommunities, 5);\n\n      return this.setState({\n        communitiesToJoin: randomTopCommunities,\n      });\n    }\n\n    if (prevProps.communities.length !== this.props.communities.length) {\n      const joinedCommunityIds = this.props.communities.map(c => c.id);\n      const filteredStateCommunities = this.state.communitiesToJoin.filter(\n        c => joinedCommunityIds.indexOf(c.id) < 0\n      );\n      const filteredTopCommunities = this.props.data.topCommunities.filter(\n        c => joinedCommunityIds.indexOf(c.id) < 0\n      );\n      const newRandom = getRandom(filteredTopCommunities, 1);\n      const newArr = [...filteredStateCommunities, newRandom[0]];\n      return this.setState({\n        communitiesToJoin: newArr,\n      });\n    }\n  }\n\n  render() {\n    const { activeCommunity } = this.props;\n    const { communitiesToJoin } = this.state;\n\n    if (communitiesToJoin && communitiesToJoin.length > 0) {\n      return (\n        <FlexRow>\n          {communitiesToJoin.map(c => {\n            return (\n              <CommunityListAvatar\n                active={c.id === activeCommunity}\n                src={c.profilePhoto}\n              />\n            );\n          })}\n        </FlexRow>\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default compose(connect(), getTopCommunities, viewNetworkHandler)(\n  UpsellExploreCommunities\n);\n\n\n\n// WEBPACK FOOTER //\n// src/views/dashboard/components/upsellExploreCommunities.js","// @flow\n// $FlowFixMe\nimport styled from 'styled-components';\nimport { zIndex } from '../../components/globals';\n\nexport const Container = styled.div`\n  display: flex;\n  flex: auto;\n  align-self: stretch;\n  overflow-y: hidden;\n  height: 100%;\n  max-height: 100%;\n  position: relative;\n`;\n\nexport const Thread = styled.div`\n  display: flex;\n  background: ${props => props.theme.bg.wash};\n  flex: auto;\n  z-index: ${zIndex.chrome - 2};\n  flex-direction: column;\n  max-width: 100%;\n`;\n\nexport const NullContainer = styled.div`\n  display: flex;\n  flex: auto;\n  align-self: stretch;\n  overflow-y: hidden;\n  padding: 32px;\n  height: 100%;\n`;\n\nexport const NullThread = styled.div`\n  display: flex;\n  flex: auto;\n  z-index: ${zIndex.slider + 3};\n  flex-direction: column;\n  max-width: 100%;\n  border-radius: 8px;\n  align-items: center;\n  justify-content: center;\n\n  button {\n    padding: 16px 24px;\n    font-size: 18px;\n    font-weight: 600;\n  }\n`;\n\nexport const Heading = styled.h3`\n  font-size: 24px;\n  font-weight: 700;\n  color: ${props => props.theme.text.default};\n  margin: 48px 24px 16px;\n  text-align: center;\n`;\n\nexport const Subheading = styled.h4`\n  font-size: 18px;\n  font-weight: 400;\n  color: ${props => props.theme.text.alt};\n  margin: 0 48px 32px;\n  max-width: 600px;\n  text-align: center;\n`;\n\n\n\n// WEBPACK FOOTER //\n// src/views/dashboardThread/style.js"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAOA;AAAA;AAAA;AAAA;AAGA;AAIA;AAAA;AAIA;AAAA;AARA;AACA;AAeA;AAAA;AAAA;AAAA;AACA;AAAA;AAaA;AAAA;AAGA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AASA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAUA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAKA;AAAA;AACA;AADA;AACA;AAEA;AACA;AADA;AAHA;AAMA;AACA;;;AACA;AACA;AAIA;AAEA;AACA;AACA;;;AAEA;AACA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AARA;AAWA;AACA;AACA;AACA;;;;AAlFA;AACA;AAoFA;;;;;;;;;;;;;;;;;;;;;;ACzGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AASA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AAAA;AACA;AAgBA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAGA;AAAA;;;;A","sourceRoot":""}